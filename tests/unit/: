import unittest

from ewallet_client import EWalletClientCore

config_file = 'conf/ewcc.conf'


class TestEwalletClientCoreSetupHandlers(unittest.TestCase):

    @classmethod
    def setUpClass(cls):
        # Instantiate CC with specified config file
        cls.core = EWalletClientCore(config_file=config_file)

    @classmethod
    def tearDownClass(cls):
        pass

    def test_ewcc_state_unit(self):
        print('[ * ]: EWallet Client Core Setup Handlers')
        setup_handlers = self.core.setup_handlers(**{
            'handlers': ['action'],
            'actions': [
                'RequestClientID',
                'RequestSessionToken',
                'PauseClockTimer',
                'ResumeClockTimer',
                'StartClockTimer',
                'StopClockTimer',
                'AccountLogin',
                'AccountLogout',
                'AddContactRecord',
                'ConvertClockToCredits',
                'ConvertCreditsToClock',
                'CreateNewAccount',
                'CreateContactList',
                'CreateConversionSheet',
                'CreateCreditClock',
                'CreateCreditEWallet',
                'CreateInvoiceSheet',
                'CreateTimeSheet',
                'CreateTransferSheet',
                'EditAccount',
                'PayCredits',
                'SupplyCredits',
                'SwitchActiveSessionUser',
                'SwitchContactList',
                'SwitchConversionSheet',
                'SwitchCreditClock',
                'SwitchCreditEWallet',
                'SwitchInvoiceSheet',
                'SwitchTimeSheet',
                'SwitchTransferSheet',
                'TransferCredits',
                'UnlinkAccount',
                'UnlinkContactList',
                'UnlinkContactRecord',
                'UnlinkConversionRecord',
                'UnlinkConversionSheet',
                'UnlinkCreditClock',
                'UnlinkCreditEWallet',
                'UnlinkInvoiceRecord',
                'UnlinkInvoiceSheet',
                'UnlinkTimeRecord',
                'UnlinkTimeSheet',
                'UnlinkTransferRecord',
                'UnlinkTransferSheet',
                'ViewAccount',
                'ViewContactList',
                'ViewContactRecord',
                'ViewConversionRecord',
                'ViewConversionSheet',
                'ViewCreditClock',
                'ViewCreditEWallet',
                'ViewInvoiceRecord',
                'ViewInvoiceSheet',
                'ViewLoginRecords',
                'ViewLogoutRecords',
                'ViewTimeRecord',
                'ViewTimeSheet',
                'ViewTransferRecord',
                'ViewTransferSheet',
            ]
        })
        print(str(setup_handlers) + '\n')
        self.assertTrue(isinstance(setup_handlers, dict))
        self.assertTrue(isinstance(setup_handlers.get('actions'), dict))
        self.assertTrue(isinstance(setup_handlers.get('events'), dict))
        self.assertEqual(len(setup_handlers['actions']), 59)
        return setup_handlers
